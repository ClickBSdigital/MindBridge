<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MindBridge - Relat√≥rios e Analytics</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/relatorios.css">
</head>
<body>
    <div class="header">
        <div class="header-content">
            <div class="logo">MindBridge - Relat√≥rios</div>
            <div class="user-menu">
                <span>Carlos (Supervisor)</span>
                <a href="dashboard-monitor.html" class="btn btn-secondary">‚Üê Voltar</a>
                <a href="index.html" class="btn btn-warning">Sair</a>
            </div>
        </div>
    </div>

    <div class="container">
        <!-- FILTROS DE RELAT√ìRIO -->
        <div class="report-filters">
            <h2>üìä Relat√≥rios e Analytics</h2>
            <div class="filter-controls">
                <div class="filter-group">
                    <label>Per√≠odo:</label>
                    <select id="periodFilter">
                        <option value="today">Hoje</option>
                        <option value="week" selected>√öltima Semana</option>
                        <option value="month">√öltimo M√™s</option>
                        <option value="quarter">√öltimo Trimestre</option>
                        <option value="year">√öltimo Ano</option>
                    </select>
                </div>
                
                <div class="filter-group">
                    <label>Tipo de Relat√≥rio:</label>
                    <select id="reportType">
                        <option value="overview" selected>Vis√£o Geral</option>
                        <option value="mediators">Desempenho de Mediadores</option>
                        <option value="alerts">Alertas e Riscos</option>
                        <option value="satisfaction">Satisfa√ß√£o dos Usu√°rios</option>
                    </select>
                </div>
                
                <div class="filter-group">
                    <label>Exportar:</label>
                    <div class="export-buttons">
                        <button class="btn btn-small btn-primary" onclick="exportPDF()">üìÑ PDF</button>
                        <button class="btn btn-small btn-secondary" onclick="exportExcel()">üìä Excel</button>
                        <button class="btn btn-small btn-success" onclick="exportCSV()">üìÅ CSV</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- KPI PRINCIPAIS -->
        <div class="kpi-dashboard">
            <div class="kpi-card">
                <div class="kpi-value">1,248</div>
                <div class="kpi-label">Atendimentos Totais</div>
                <div class="kpi-trend positive">‚Üë 12% vs anterior</div>
            </div>
            
            <div class="kpi-card">
                <div class="kpi-value">94.3%</div>
                <div class="kpi-label">Satisfa√ß√£o M√©dia</div>
                <div class="kpi-trend positive">‚Üë 2.1%</div>
            </div>
            
            <div class="kpi-card">
                <div class="kpi-value">18.4min</div>
                <div class="kpi-label">Tempo M√©dio/Sess√£o</div>
                <div class="kpi-trend negative">‚Üë 1.2min</div>
            </div>
            
            <div class="kpi-card">
                <div class="kpi-value">47</div>
                <div class="kpi-label">Encaminhamentos</div>
                <div class="kpi-trend positive">‚Üì 8%</div>
            </div>
        </div>

        <!-- GR√ÅFICOS E VISUALIZA√á√ïES -->
        <div class="charts-grid">
            <div class="chart-container">
                <h3>üìà Volume de Atendimentos</h3>
                <div class="chart-placeholder" id="volumeChart">
                    <!-- Gr√°fico ser√° gerado por JS -->
                </div>
            </div>
            
            <div class="chart-container">
                <h3>üéØ Distribui√ß√£o de Riscos</h3>
                <div class="chart-placeholder" id="riskChart">
                    <!-- Gr√°fico ser√° gerado por JS -->
                </div>
            </div>
            
            <div class="chart-container">
                <h3>‚≠ê Avalia√ß√£o dos Mediadores</h3>
                <div class="chart-placeholder" id="ratingChart">
                    <!-- Gr√°fico ser√° gerado por JS -->
                </div>
            </div>
            
            <div class="chart-container">
                <h3>‚è∞ Hor√°rios de Pico</h3>
                <div class="chart-placeholder" id="peakChart">
                    <!-- Gr√°fico ser√° gerado por JS -->
                </div>
            </div>
        </div>

        <!-- TABELA DETALHADA -->
        <div class="detailed-report">
            <h3>üìã Relat√≥rio Detalhado por Mediador</h3>
            <div class="table-container">
                <table class="report-table">
                    <thead>
                        <tr>
                            <th>Mediador</th>
                            <th>Sess√µes</th>
                            <th>Dura√ß√£o M√©dia</th>
                            <th>Avalia√ß√£o</th>
                            <th>Alertas</th>
                            <th>Encaminhamentos</th>
                            <th>Taxa de Resolu√ß√£o</th>
                            <th>Status</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>
                                <div class="mediator-cell">
                                    <div class="mediator-avatar-small">M</div>
                                    <div>Maria Silva</div>
                                </div>
                            </td>
                            <td>156</td>
                            <td>14.2min</td>
                            <td>
                                <div class="rating-display">
                                    ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê 4.9
                                </div>
                            </td>
                            <td>8</td>
                            <td>12</td>
                            <td>
                                <div class="progress-cell">
                                    <div class="progress-bar-small">
                                        <div class="progress-fill-small" style="width: 92%"></div>
                                    </div>
                                    <span>92%</span>
                                </div>
                            </td>
                            <td><span class="status-active">‚óè Ativo</span></td>
                        </tr>
                        
                        <tr>
                            <td>
                                <div class="mediator-cell">
                                    <div class="mediator-avatar-small">P</div>
                                    <div>Pedro Santos</div>
                                </div>
                            </td>
                            <td>142</td>
                            <td>18.5min</td>
                            <td>
                                <div class="rating-display">
                                    ‚≠ê‚≠ê‚≠ê‚≠ê‚òÜ 4.5
                                </div>
                            </td>
                            <td>12</td>
                            <td>8</td>
                            <td>
                                <div class="progress-cell">
                                    <div class="progress-bar-small">
                                        <div class="progress-fill-small" style="width: 85%"></div>
                                    </div>
                                    <span>85%</span>
                                </div>
                            </td>
                            <td><span class="status-active">‚óè Ativo</span></td>
                        </tr>
                        
                        <tr>
                            <td>
                                <div class="mediator-cell">
                                    <div class="mediator-avatar-small">J</div>
                                    <div>Jo√£o Costa</div>
                                </div>
                            </td>
                            <td>128</td>
                            <td>16.8min</td>
                            <td>
                                <div class="rating-display">
                                    ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê 4.9
                                </div>
                            </td>
                            <td>5</td>
                            <td>10</td>
                            <td>
                                <div class="progress-cell">
                                    <div class="progress-bar-small">
                                        <div class="progress-fill-small" style="width: 94%"></div>
                                    </div>
                                    <span>94%</span>
                                </div>
                            </td>
                            <td><span class="status-busy">‚óè Ocupado</span></td>
                        </tr>
                        
                        <tr>
                            <td>
                                <div class="mediator-cell">
                                    <div class="mediator-avatar-small">A</div>
                                    <div>Ana Lima</div>
                                </div>
                            </td>
                            <td>98</td>
                            <td>20.1min</td>
                            <td>
                                <div class="rating-display">
                                    ‚≠ê‚≠ê‚≠ê‚≠ê‚òÜ 4.3
                                </div>
                            </td>
                            <td>15</td>
                            <td>6</td>
                            <td>
                                <div class="progress-cell">
                                    <div class="progress-bar-small">
                                        <div class="progress-fill-small" style="width: 78%"></div>
                                    </div>
                                    <span>78%</span>
                                </div>
                            </td>
                            <td><span class="status-away">‚óè Ausente</span></td>
                        </tr>
                        
                        <tr>
                            <td>
                                <div class="mediator-cell">
                                    <div class="mediator-avatar-small">C</div>
                                    <div>Carla Mendes</div>
                                </div>
                            </td>
                            <td>112</td>
                            <td>15.6min</td>
                            <td>
                                <div class="rating-display">
                                    ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê 4.8
                                </div>
                            </td>
                            <td>7</td>
                            <td>11</td>
                            <td>
                                <div class="progress-cell">
                                    <div class="progress-bar-small">
                                        <div class="progress-fill-small" style="width: 89%"></div>
                                    </div>
                                    <span>89%</span>
                                </div>
                            </td>
                            <td><span class="status-active">‚óè Ativo</span></td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- AN√ÅLISE DE TEND√äNCIAS -->
        <div class="trend-analysis">
            <h3>üîç An√°lise de Tend√™ncias</h3>
            <div class="insights-grid">
                <div class="insight-card positive">
                    <div class="insight-icon">üìà</div>
                    <div class="insight-content">
                        <h4>Crescimento Positivo</h4>
                        <p>Aumento de 23% no n√∫mero de sess√µes nas √∫ltimas 4 semanas</p>
                    </div>
                </div>
                
                <div class="insight-card warning">
                    <div class="insight-icon">‚ö†Ô∏è</div>
                    <div class="insight-content">
                        <h4>Aten√ß√£o Necess√°ria</h4>
                        <p>Aumento de 15% em casos de alto risco nas segundas-feiras</p>
                    </div>
                </div>
                
                <div class="insight-card positive">
                    <div class="insight-icon">‚≠ê</div>
                    <div class="insight-content">
                        <h4>Excelente Desempenho</h4>
                        <p>Taxa de satisfa√ß√£o aumentou consistentemente por 3 meses seguidos</p>
                    </div>
                </div>
                
                <div class="insight-card info">
                    <div class="insight-icon">üí°</div>
                    <div class="insight-content">
                        <h4>Oportunidade Identificada</h4>
                        <p>Hor√°rio das 14h-16h tem menor ocupa√ß√£o - oportunidade para treinamentos</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- RELAT√ìRIOS PR√â-DEFINIDOS -->
        <div class="predefined-reports">
            <h3>üìë Relat√≥rios Pr√©-definidos</h3>
            <div class="reports-grid">
                <div class="report-card" onclick="generateReport('weekly')">
                    <div class="report-icon">üìÖ</div>
                    <h4>Relat√≥rio Semanal</h4>
                    <p>Resumo de m√©tricas e desempenho da semana</p>
                    <div class="report-meta">√öltimo: 02/12/2024</div>
                </div>
                
                <div class="report-card" onclick="generateReport('monthly')">
                    <div class="report-icon">üìä</div>
                    <h4>Relat√≥rio Mensal</h4>
                    <p>An√°lise detalhada do m√™s anterior</p>
                    <div class="report-meta">√öltimo: 30/11/2024</div>
                </div>
                
                <div class="report-card" onclick="generateReport('mediator')">
                    <div class="report-icon">üë•</div>
                    <h4>Desempenho por Mediador</h4>
                    <p>An√°lise individual de cada membro da equipe</p>
                    <div class="report-meta">Atualizado hoje</div>
                </div>
                
                <div class="report-card" onclick="generateReport('risk')">
                    <div class="report-icon">üö®</div>
                    <h4>An√°lise de Riscos</h4>
                    <p>Relat√≥rio de casos cr√≠ticos e interven√ß√µes</p>
                    <div class="report-meta">Atualizado hoje</div>
                </div>
            </div>
        </div>
    </div>

    <!-- MODAL DE EXPORTA√á√ÉO -->
    <div id="exportModal" class="modal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeExportModal()">&times;</span>
            <h3 id="exportTitle">Exportando Relat√≥rio</h3>
            <div class="export-progress">
                <div class="progress-bar">
                    <div class="progress-fill" id="exportProgress"></div>
                </div>
                <div class="progress-text" id="progressText">Preparando dados...</div>
            </div>
            <div class="export-details" id="exportDetails"></div>
        </div>
    </div>

    <script src="js/relatorios.js"></script>
</body>
</html>